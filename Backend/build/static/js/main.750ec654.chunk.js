(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{48:function(e,t,a){e.exports=a(79)},54:function(e,t,a){},55:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},56:function(e,t,a){},67:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(44),i=a.n(c),s=(a(53),a(54),a(13)),o=a(18),u=a(22),l=a(21),m=a(14),h=a(6),p=(a(55),a(56),a(57),r.a.createContext(null)),d=function(e){return function(t){return r.a.createElement(p.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},f=p,b=a(34),g=a.n(b);a(60);a(62).config();var v={apiKey:"AIzaSyBE92SRu48EQMNcJ6qpYbZ5wstGoJwXt4k",authDomain:"dubhacks2020-89ba9.firebaseapp.com",databaseURL:"https://dubhacks2020-89ba9.firebaseio.com/",projectId:"dubhacks2020-89ba9.appspot.com",storageBucket:"dubhacks2020-89ba9.appspot.com",messagingSenderId:"311784938097"},w=function e(){var t=this;Object(s.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},g.a.initializeApp(v),this.auth=g.a.auth()},E=[{title:"Landing",url:"/"},{title:"Home",url:"/home"},{title:"Sign Up",url:"/signup"},{title:"Sign In",url:"/login"}],j=(a(67),function(){return r.a.createElement("nav",{className:"NavbarItems"},r.a.createElement("h1",{className:"navbar-logo"},r.a.createElement("img",{src:"https://media.discordapp.net/attachments/766950457381486606/767419101848797204/unknown.png",height:"75px"}),"StreamPlus."),r.a.createElement("ul",{className:"nav-menu"},E.map((function(e,t){return r.a.createElement("li",{className:"d-flex align-items-center",key:t},r.a.createElement(m.b,{to:e.url,className:"nav-links"},e.title))}))))}),y=a(12),O=a.n(y),_=a(29),k=a(25),N=a(15),S=a(19),C=a(16),x=a(10),P=a(28);a(73);var U=function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),a=t[0],c=t[1];return r.a.createElement(N.a,{className:"d-flex align-items-center",id:"searchBar"},r.a.createElement(x.a.Control,{id:"input-search",placeholder:"Search Streamer...",className:"input",value:a,onChange:function(e){var t=e.target.value;c(t)}}),r.a.createElement(P.a,{className:"",type:"search",id:"search-button"},"Search"))},I=(a(75),a(17));var A=function(e){var t=e.user_name,a=e.title,n=e.viewer_count;return[{preview:e.thumbnail_url,simage:e.profile_image_url,gname:e.game_name,title:a,name:t,viewcount:n}].map((function(e,a){return r.a.createElement(I.a,{className:"card",key:a},r.a.createElement("a",{href:"https://www.twitch.tv/"+t},r.a.createElement(I.a.Img,{className:"preview",variant:"top",src:e.preview})),r.a.createElement(I.a.Img,{className:"simage",src:e.simage}),r.a.createElement(I.a.Title,{className:"title"},e.title),r.a.createElement(I.a.Text,{className:"name"},e.name),r.a.createElement(I.a.Text,{className:"viewcount"},e.viewcount," viewers"),r.a.createElement(I.a.Text,{className:"gname"},e.gname," "))}))};var W=function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(k.a)(i,2),o=s[0];function u(){return(u=Object(_.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/twitch/getStreams"+o).then(B).then((function(e){return e.json()})).then((function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a]._data.thumbnail_url.replace("{width}",286);n=n.replace("{height}",143),t.push({platform:"twitch",thumbnail_url:n,user_name:e[a]._data.user_name,title:e[a]._data.title,viewer_count:e[a]._data.viewer_count,user_id:e[a]._data.user_id,game_id:e[a]._data.game_id})}return t})).then(function(){var e=Object(_.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],n=0;n<t.length;n++)a.push(t[n].user_id);return e.next=4,fetch("/twitch/getUsersByIds?ids="+a).then(B).then((function(e){return e.json()})).then((function(e){for(var a=0;a<e.length;a++)t[a].profile_image_url=e[a]._data.profile_image_url})).catch(T);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object(_.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/twitch/getGameById?id="+t[a].game_id).then(B).then((function(e){return e.json()})).then((function(e){t[a].game_name=e._data.name})).catch(T);case 2:case"end":return e.stop()}}),e)})),n=0;case 2:if(!(n<t.length)){e.next=7;break}return e.delegateYield(a(n),"t0",4);case 4:n++,e.next=2;break;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){c(e)})).catch(T);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s[1],Object(n.useEffect)((function(){!function(){u.apply(this,arguments)}()}),[o]),r.a.createElement(N.a,null,r.a.createElement(U,null),r.a.createElement(S.a,null,a.map((function(e,t){return r.a.createElement(C.a,{xs:12,md:6,lg:3,key:t,className:"d-flex justify-content-center mb-4"},r.a.createElement(A,Object.assign({className:""},e)))}))))};function B(e){if(e.ok)return e;throw Error("Error in request: "+e.statusText)}function T(e){console.log(e)}var L=function(){return r.a.createElement("div",null,r.a.createElement(W,null))},D=a(23),J=a(20),q=a(27);a(77);var z={email:"",password:"",conPassword:"",error:null},G=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(J.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault(),n.props.firebase.doCreateUserWithEmailAndPassword(n.state.email,n.state.password).then((function(){n.setState(Object(D.a)({},z)),n.props.history.push("/home")})).catch((function(e){return console.log(e)}))},n.state=Object(D.a)({},z),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.conPassword;e.error;return r.a.createElement("div",{className:"vert-center d-flex justify-content-center align-items-center"},r.a.createElement(N.a,{className:"form-container mb-5"},r.a.createElement(S.a,null,r.a.createElement(C.a,null,r.a.createElement(x.a,{onSubmit:this.onSubmit},r.a.createElement("h2",null,"Sign Up"),r.a.createElement(x.a.Control,{type:"email",id:"input-email",placeholder:"Email",name:"email",className:"input",value:t,onChange:this.onChange}),r.a.createElement(x.a.Control,{type:"password",id:"input-password","aria-describedby":"password-help-block",placeholder:"New Password",name:"password",className:"input",value:a,onChange:this.onChange.bind(this)}),r.a.createElement(x.a.Text,{id:"password-help-block",muted:!0},"Please put in at least six characters."),r.a.createElement(x.a.Control,{type:"password",id:"input-confirm-password",placeholder:"Confirm Password",className:"input",name:"conPassword",value:n,onChange:this.onChange.bind(this)}),r.a.createElement(P.a,{type:"submit",id:"submit-button"},"Submit"),r.a.createElement(m.b,{to:"/login"},"Already signed up? Login"))))))}}]),a}(n.Component),M=Object(q.a)(h.e,d)(G),R=function(){return r.a.createElement(M,null)};a(78);var Y={email:"",password:"",conPassword:"",error:null},H=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(J.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault(),n.props.firebase.doCreateUserWithEmailAndPassword(n.email,n.password).then((function(e){return n.props.firebase.user(e.user.uid).set({uid:e.user.uid},{merge:!0})})).then((function(){return n.props.history.push("/home")})).catch((function(e){return console.log(e)}))},n.state=Object(D.a)({},Y),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;e.conPassword,e.error;return r.a.createElement("div",{className:"vert-center d-flex justify-content-center align-items-center"},r.a.createElement(N.a,{className:"form-container mb-5"},r.a.createElement(S.a,null,r.a.createElement(C.a,null,r.a.createElement(x.a,{onSubmit:this.onSubmit},r.a.createElement("h2",null,"Login"),r.a.createElement(x.a.Control,{type:"email",id:"input-email",placeholder:"Email",className:"input",value:t,onChange:this.onChange}),r.a.createElement(x.a.Control,{type:"password",id:"input-password","aria-describedby":"password-help-block",placeholder:"Password",className:"input",value:a,onChange:this.onChange}),r.a.createElement(P.a,{type:"submit",id:"submit-button"},"Login"),r.a.createElement(m.b,{to:"/signup"},"New account? Sign up"))))))}}]),a}(n.Component),K=Object(q.a)(h.e,d)(H),Q=function(){return r.a.createElement(K,null)},X=d(function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={authUser:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(j,{authUser:this.state.authUser}),r.a.createElement(h.a,{path:"/home",component:L}),r.a.createElement(h.a,{path:"/signup",component:R}),r.a.createElement(h.a,{path:"/login",component:Q})))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(f.Provider,{value:new w},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.750ec654.chunk.js.map